import{C as f,T as b,a as C,F as g,E as y,b as w,c as i,u as E}from"./index.7d15e998.js";import{D as x}from"./index.83bc3997.js";import{E as p}from"./index.a1b4fd40.js";import{E as F}from"./index.e1a5499f.js";import{d as R,r as o,c as e,b as a,a7 as h,o as k,e as v,w as n,g as r}from"./index.daf84937.js";import"./index.e0143586.js";import"./index.ae2d018c.js";import"./focus-trap.a1b1d3ba.js";const M=R({__name:"index",setup(T){const l=o(),m=o(),c=f({tableInstance:m,row:[8],form:[{type:"Input",label:"\u59D3\u540D",model:"cname"},{type:"Input",label:"\u522B\u79F0",model:"title"},{type:"Dict",label:"\u804C\u4E1A",model:"hero_type",dataSource:"2"},{row:[24],align:"right",render(){return e(h,null,[e(p,{type:"primary",onClick:()=>{l.value.open({title:"\u65B0\u589E\u7528\u6237"})}},{default:()=>[a("\u65B0\u589E")]}),e(b,{htmlType:"submit",class:"ml-12px"},{default:()=>[e(p,{type:"success"},{default:()=>[a("\u67E5\u8BE2")]})]}),e(b,{htmlType:"reset",class:"ml-12px"},{default:()=>[e(p,{type:"info"},{default:()=>[a("\u91CD\u7F6E")]})]})])}}],data:o({cname:"",title:"",hero_type:""}),createRule(t){return{}}}),u=f({row:[12],form:[{type:"Input",label:"\u59D3\u540D",model:"cname"},{type:"Input",label:"\u522B\u79F0",model:"title"},{type:"Dict",label:"\u804C\u4E1A",model:"hero_type",dataSource:"2"},{type:"Input",label:"\u76AE\u80A4\u6E05\u5355",model:"skin_name"}],api:"game.createHero",labelWidth:120,data:o({cname:"",age:"",birth:"",idCard:"",phone:""}),createRule(t){return{cname:t.required(),title:t.required(),hero_type:t.required()}}}),d=C({api:"game.heroList",autoRun:!0,formatRowText(t){if(t===void 0)return"-"},useServerProps:{beforeRequest({data:t}){return{data:t}}},column:[{type:"Index",label:"\u5E8F\u53F7",width:70},{prop:"ename",label:"\u5934\u50CF",width:100,render(t){return e("img",{class:"w-30px",src:`//game.gtimg.cn/images/yxzj/img201606/heroimg/${t}/${t}.jpg`},null)}},{prop:"cname",label:"\u59D3\u540D",width:130},{prop:"title",label:"\u522B\u79F0"},{prop:"hero_type",label:"\u804C\u4E1A",render(t){return["\u523A\u5BA2","\u6218\u58EB","\u6CD5\u5E08","\u6253\u91CE","\u5C04\u624B","\u8F85\u52A9","\u8F85\u52A9"][t]}},{prop:"skin_name",label:"\u76AE\u80A4\u6E05\u5355",customProps:{"show-overflow-tooltip":!0}},{label:"\u64CD\u4F5C",render(t,s,_){return e(h,null,[e(i,{class:"mr-2 cursor-pointer",onClick:()=>{l.value.open({title:"\u7F16\u8F91\u82F1\u96C4",disabled:!1}),u.data.value={...s}}},{default:()=>[a("\u7F16\u8F91")]}),e(i,{type:"info",class:"mr-2 cursor-pointer",onClick:()=>{l.value.open({disabled:!0,title:"\u8BE6\u60C5"}),u.data.value={...s}}},{default:()=>[a("\u82F1\u96C4\u8BE6\u60C5")]}),e(F,{onConfirm:()=>{E({api:"user.del",data:{num:_},autoRun:!0,successMessage:"\u5220\u9664\u6210\u529F",errorMessage:"\u5220\u9664\u5931\u8D25",onSuccess(){d.run()}})},title:"Are you sure to delete this?"},{reference:()=>e(i,{class:"cursor-pointer",type:"danger"},{default:()=>[a("\u5220\u9664")]})})])}}]});return(t,s)=>(k(),v("div",null,[e(r(y),null,{default:n(()=>[e(r(g),{createOption:r(c)},null,8,["createOption"])]),_:1}),e(r(y),{class:"mt-3"},{default:n(()=>[e(r(w),{ref_key:"tableRef",ref:m,createOption:r(d),"search-params":r(c).omitData},{default:n(()=>[e(r(x),{width:900,ref_key:"dialogRef",ref:l},{default:n(()=>[e(r(g),{createOption:r(u)},null,8,["createOption"])]),_:1},512)]),_:1},8,["createOption","search-params"])]),_:1})]))}});export{M as default};
